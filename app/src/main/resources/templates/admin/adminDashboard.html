<!-- adminDashboard.html -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" th:href="@{/assets/images/logo/logo.png}" />
  <title>Admin Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" th:href="@{/assets/css/adminDashboard.css}" />
  <link rel="stylesheet" th:href="@{/assets/css/style.css}" />

  <!-- General JS utilities & header/footer renderers (deferred) -->
  <script defer th:src="@{/js/render.js}"></script>
  <script defer th:src="@{/js/util.js}"></script>
  <script defer th:src="@{/js/components/header.js}"></script>
  <script defer th:src="@{/js/components/footer.js}"></script>
</head>

<body onload="renderContent()">
  <div class="container">
    <div class="wrapper">

      <!-- Header injected by header.js -->
      <div id="header"></div>
      <!-- Main dashboard area -->
      <main class="main-content" role="main" aria-label="Admin dashboard main content">

        <!-- Stats Section -->
        <section class="stats-container">
          <div class="stat-card">
            <h3>Doctors</h3>
            <p id="statDoctors">0</p>
          </div>
          <div class="stat-card">
            <h3>Patients</h3>
            <p id="statPatients">0</p>
          </div>
          <div class="stat-card">
            <h3>Appointments</h3>
            <p id="statAppointments">0</p>
          </div>
        </section>

        <!-- Navigation Tabs -->
        <div class="tabs">
          <button class="tab-btn active" data-tab="doctors">Doctors</button>
          <button class="tab-btn" data-tab="patients">Patients</button>
          <button class="tab-btn" data-tab="appointments">Appointments</button>
        </div>

        <!-- DOCTORS VIEW -->
        <div id="view-doctors" class="tab-content active">
          <!-- Controls (Search/Filter) -->
          <div class="controls">
            <!-- Add Doctor Button -->
            <button class="btn-primary" onclick="openModal('addDoctor')">
              + Add Doctor
            </button>

            <!-- Search bar -->
            <label for="searchBar" class="visually-hidden">Search doctors</label>
            <input type="search" id="searchBar" name="searchBar" placeholder="Search doctors, name, hospital, or ID..."
              aria-label="Search doctors" />

            <!-- Time filter -->
            <label for="timeFilter" class="visually-hidden">Filter by time of day</label>
            <select id="timeFilter" name="timeFilter" aria-label="Filter by time">
              <option value="all">All Times</option>
              <option value="morning">Morning</option>
              <option value="afternoon">Afternoon</option>
              <option value="evening">Evening</option>
            </select>

            <!-- Specialty filter -->
            <label for="specialtyFilter" class="visually-hidden">Filter by specialty</label>
            <select id="specialtyFilter" name="specialtyFilter" aria-label="Filter by specialty">
              <option value="all">All Specialties</option>
              <option value="cardiology">Cardiology</option>
              <option value="dermatology">Dermatology</option>
              <option value="neurology">Neurology</option>
              <option value="pediatrics">Pediatrics</option>
            </select>
          </div>

          <!-- Doctor Grid -->
          <section id="content" class="doctor-grid" aria-live="polite">
            <!-- Dynamic cards injected via JS -->
            <p>Loading doctors...</p>
          </section>
        </div>

        <!-- PATIENTS VIEW -->
        <div id="view-patients" class="tab-content" style="display: none;">
          <div class="controls">
            <input type="search" id="searchPatients" placeholder="Search patients..." />
          </div>
          <div id="patients-list" class="list-container">
            <p>Loading patients...</p>
          </div>
        </div>

        <!-- APPOINTMENTS VIEW -->
        <div id="view-appointments" class="tab-content" style="display: none;">
          <div class="controls">
            <input type="search" id="searchAppointments" placeholder="Search appointments..." />
          </div>
          <div id="appointments-list" class="list-container">
            <p>Loading appointments...</p>
          </div>
        </div>
      </main>

      <!-- Footer injected by footer.js -->
      <div id="footer"></div>
    </div>
  </div>

  <!-- Modal structure for details / forms -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-content" role="document">
      <button type="button" class="modal-close" id="modalClose" aria-label="Close modal">&times;</button>
      <div id="modal-body" class="modal-body" tabindex="0">
        <!-- Modal dynamic content injected here -->
      </div>
    </div>
  </div>

  <!-- Page-specific JavaScript modules (modern, defesrred) -->
  <script type="module" defer th:src="@{/js/adminDashboard.js}"></script>
</body>

</html>