<!-- doctorDashboard.html -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" th:href="@{/assets/images/logo/logo.png}" />
  <title>Doctor Dashboard</title>

  <!-- CSS Files -->
  <link rel="stylesheet" th:href="@{/assets/css/adminDashboard.css}" />
  <link rel="stylesheet" th:href="@{/assets/css/doctorDashboard.css}" />
  <link rel="stylesheet" th:href="@{/assets/css/style.css}" />

  <!-- General JS Utilities (Deferred for non-blocking load) -->
  <script src="../js/render.js" defer></script>
  <script src="../js/util.js" defer></script>
  <script src="../js/components/header.js" defer></script>
  <script src="../js/components/footer.js" defer></script>

  <!-- Doctor Dashboard Logic (ES Module) -->
  <script type="module" src="/js/doctorDashboard.js" defer></script>
</head>

<body onload="renderContent()">
  <div class="container">
    <div class="wrapper">

      <div id="header"></div>

      <div class="main-content">

        <div class="dashboard-header">
          <h1>Doctor Dashboard</h1>
          <div class="date-controls">
            <button id="manageAvailabilityBtn" class="btn-primary">Manage Availability</button>
            <button id="todayButton" class="date-btn active">Today</button>
            <input type="date" id="datePicker" class="date-input" />
          </div>
        </div>

        <!-- Statistics Deck -->
        <div class="stats-deck">
          <div class="stat-card">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-info">
              <h3>Appointments</h3>
              <p id="totalAppts">0</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è≥</div>
            <div class="stat-info">
              <h3>Pending</h3>
              <p id="pendingAppts">0</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-info">
              <h3>Completed</h3>
              <p id="completedAppts">0</p>
            </div>
          </div>
        </div>

        <!-- Search -->
        <div class="search-wrapper">
          <input type="text" id="searchBar" class="searchBar" placeholder="Search by patient name..." />
        </div>

        <!-- Grid -->
        <div id="appointmentsGrid" class="appointments-grid">
          <div class="empty-state">
            <p>Loading appointments...</p>
          </div>
        </div>

      </div>

      <div id="footer"></div>

      <!-- Availability Modal -->
      <div id="availabilityModal" class="modal">
        <div class="modal-content doctor-modal-content">
          <div class="modal-header">
            <h3>Manage Availability</h3>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <p>Select the times you are available for appointments:</p>
            <div id="timeSlotContainer" class="time-slot-grid">
              <!-- Checkboxes will be injected here -->
            </div>
          </div>
          <div class="modal-footer">
            <button id="saveAvailabilityBtn" class="btn-primary" style="width: 100%;">Save Changes</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</body>

</html>